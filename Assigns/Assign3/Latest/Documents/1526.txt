AT Attachment

ATA connector on the left, with two motherboard ATA connectors on the right.
AT Attachment (ATA) and AT Attachment Packet Interface (ATAPI) are interface standards for the connection of storage devices such as hard disks, solid-state drives, and CD-ROM drives in computers. The standard is maintained by X3/INCITS committee T13.
The current ATA/ATAPI standard is the result of a long history of incremental technical development. ATA/ATAPI is an evolution of the AT Attachment Interface, which was itself evolved in several stages from Western Digital's original Integrated Drive Electronics interface. As a result, many near-synonyms for ATA/ATAPI and its previous incarnations exist, including abbreviations such as IDE which are still in common informal use. With the market introduction of Serial ATA in 2003, the original ATA was retroactively renamed Parallel ATA (PATA).
Parallel ATA standards allow cable lengths up to only 18 inches (46 centimeters). Because of this length limit the technology normally appears as an internal computer storage interface. For many years ATA provided the most common and the least expensive interface for this application. By the beginning of 2007 it had largely been replaced by Serial ATA (SATA) in new systems.

The name of the standard was originally conceived as "PC/AT Attachment" as its primary feature was a direct connection to the 16-bit ISA bus introduced with the IBM PC/AT. The name was shortened to "AT Attachment" to avoid possible trademark issues. It is not spelled out as "Advanced Technology" anywhere in current or recent versions of the specification; it is simply "AT Attachment". Nevertheless, the term "Advanced Technology Attachment" is still in common use.

The first version of what is now called the ATA/ATAPI interface was developed by Western Digital under the name Integrated Drive Electronics (IDE). Together with Control Data Corporation (who manufactured the hard drive part) and Compaq Computer (into whose systems these drives would initially go), they developed the connector, the signalling protocols, and so on with the goal of remaining software compatible with the existing ST-506 hard drive interface.[1] The first such drives appeared in Compaq PCs in 1986.[2] [3]
The term Integrated Drive Electronics (IDE) refers not just to the connector and interface definition, but also to the fact that the drive controller is integrated into the drive, as opposed to a separate controller on or connected to the motherboard.[4] The integrated controller presented the drive to the host computer as an array of 512-byte blocks with a relatively simple command interface. This relieved the software in the host computer of the chores of stepping the disk head arm, moving the head arm in and out, and so on, as had to be done with earlier ST-506 and ESDI hard drives. All of these low-level details of the mechanical operation of the drive were now handled by the controller on the drive itself. This also eliminated the need to design a single controller that could handle many different types of drives, since the controller could be unique for the drive. The host need only ask for a particular sector, or block, to be read or written, and either accept the data from the drive or send the data to it.
The interface used by these IDE drives was standardized in 1994 as ANSI standard X3.221-1994, AT Attachment Interface for Disk Drives. After later versions of the standard were developed, this became known as "ATA-1".[5][6]

Originally, there was only one ATA controller in early PCs, which could support up to two hard drives. At the time in combination with the floppy drive, this was sufficient for most people, and eventually it became common to have two hard drives installed. When the CDROM was developed, many computers were unable to accept them due to already having two hard drives installed. Adding the CDROM would have required removal of one of the drives.
The solution was the addition of the second ATA interface, typically included as an expansion option on a sound card. It was included on the sound card because early business PCs did not include support for more than simple beeps from the internal speaker, and tuneful sound playback was considered unnecessary for early business software. When the CDROM was introduced, it was logical to also add digital audio to the computer at the same time. An older business PC could be upgraded in this manner to meet the Multimedia PC standard for early software packages that used sound and colorful video animation.
The second drive interface initially was not well-defined. It was first introduced with modified controller interfaces specific to certain CDROM drives such as Mitsumi, Sony or Panasonic[7], and it was common to find early sound cards with two or three separate connectors each designed to match a certain brand of CDROM drive. This evolved into the standard ATA interface for ease of cross-compatability, though the sound card ATA interface still usually supported only a single CDROM and not hard drives.
This second ATA interface on the sound card eventually evolved into the second motherboard ATA interface now included as a standard component in all PCs.

In 1994, about the same time that the ATA-1 standard was adopted, Western Digital introduced drives under a slightly new name, Enhanced IDE (EIDE). These included most of the features of the forthcoming ATA-2 specification and several additional enhancements. Other manufacturers introduced their own variations of ATA-1 such as "Fast ATA" and "Fast ATA-2".
The new version of the ANSI standard, AT Attachment Interface with Extensions ATA-2 (X3.279-1996), was approved in 1996. It included most of the features of the manufacturer-specific variants.[8][9]
ATA-2 also was the first to note that devices other than hard drives could be attached to the interface:
ï»¿3.1.7 Device: Device is a storage peripheral. Traditionally, a device on the ATA interface has been a hard disk drive, but any form of storage device may be placed on the ATA interface provided it adheres to this standard.
â€”from [9], page 2

As mentioned in the previous sections ATA was originally designed for and worked only with hard disks and devices that could emulate them. The introduction of ATAPI (ATA Packet Interface) by a group called the Small Form Factor committee allowed ATA to be used for a variety of other devices that require functions beyond those necessary for hard disks. For example, any removable media device needs a "media eject" command, and a way for the host to determine whether the media is present, and these were not provided in the ATA protocol.
The Small Form Factor committee approached this problem by defining ATAPI, the "ATA Packet Interface". ATAPI is actually a protocol allowing the ATA interface to carry SCSI commands and responses; therefore all ATAPI devices are actually "speaking SCSI" other than at the electrical interface. In fact, some early ATAPI devices were simply SCSI devices with an ATA/ATAPI to SCSI protocol converter added on. The SCSI commands and responses are embedded in "packets" (hence "ATA Packet Interface") for transmission on the ATA cable. This allows any device class for which a SCSI command set has been defined to be interfaced via ATA/ATAPI.
ATAPI devices are also "speaking ATA", as the ATA physical interface and protocol are still being used to send the packets. On the other hand, ATA hard drives and solid state drives do not use ATAPI.
ATAPI devices include CD-ROM and DVD-ROM drives, tape drives, and large-capacity floppy drives such as the Zip drive and SuperDisk drive.
The SCSI commands and responses used by each class of ATAPI device (CD-ROM, tape, etc.) are described in other documents or specifications specific to those device classes and are not within ATA/ATAPI or the T13 committee's purview.
ATAPI was adopted as part of ATA in INCITS 317-1998, AT Attachment with Packet Interface Extension (ATA/ATAPI-4).[10][11][12]

The terms "integrated drive electronics" (IDE), "enhanced IDE" and "EIDE" have come to be used interchangeably with ATA (now Parallel ATA). However the terms "IDE" and "EIDE" are at best imprecise. Every ATA drive is an "integrated drive electronics" drive, but not every "integrated drive electronics" drive is an ATA drive, as the term also correctly describes SCSI drives: They have the drive controllers on board and present the drive to the host as an array of blocks.
In addition there have been several generations of "EIDE" drives marketed, compliant with various versions of the ATA specification. An early "EIDE" drive might be compatible with ATA-2, while a later one with ATA-6.
Nevertheless a request for an "IDE" or "EIDE" drive from a computer parts vendor will almost always yield a drive that will work with modern systems' ATA interfaces.
Another common usage is to refer to the specification version by the fastest mode supported. For example, ATA-4 supported Ultra DMA modes 0 through 3, the latter providing a maximum transfer rate of 33 megabytes per second. ATA-4 drives are thus sometimes called "UDMA-33" drives. Similarly, ATA-6 introduced a maximum transfer speed of 100 megabytes per second, and some drives complying to this version of the standard are marketed as "PATA/100" drives.

With the introduction of Serial ATA around 2003, conventional ATA is sometimes referred to as Parallel ATA (P-ATA), referring to the method in which data travels over wires in this interface.

The original ATA specification used a 28-bit addressing mode, allowing for the addressing of 228 (268,435,456) sectors (blocks) of 512 bytes each, resulting in a maximum capacity of about 137 gigabytes[13]. (This is displayed by Windows operating systems as "128 GB".) However the BIOS in early PCs imposed smaller limits such as 8.46 GB, with a maximum of 1024 cylinders, 256 heads and 63 sectors, but this was not a limit imposed by the ATA interface.
ATA-6 introduced 48-bit addressing, increasing the limit to 144 petabytes. As a consequence, any ATA drive of capacity larger than 137 gigabytes must be an ATA-6 or later drive. Connecting such a drive to a host with an ATA-5 or earlier interface will limit the usable capacity to the maximum of the controller.
Some OSs, including Windows 2000 pre-SP4, disable 48-bit LBA by default, requiring the user to take extra steps to use the entire capacity of an ATA drive larger than 137 gigabytes. [14]

Until the introduction of Serial ATA, 40-pin connectors generally attached drives to a ribbon cable. Each cable has two or three connectors, one of which plugs into an adapter interfacing with the rest of the computer system. The remaining connector(s) plug into drives. Parallel ATA cables transfer data 16 bits at a time.
ATA's ribbon cables have had 40 wires for most of its history (44 conductors for the smaller form-factor version used for 2.5" drives), but an 80-wire version appeared with the introduction of the Ultra DMA/33 (UDMA) mode. All of the additional wires in the new cable are ground wires, interleaved with the previously defined wires to reduce the effects of capacitive coupling between neighboring signal wires, reducing crosstalk. Capacitive coupling is more of a problem at higher transfer rates, and this change was necessary to enable the 66 megabytes per second (MB/s) transfer rate of UDMA4 to work reliably. The faster UDMA5 and UDMA6 modes also require 80-conductor cables.
Though the number of wires doubled, the number of connector pins and the pinout remain the same as 40-conductor cables, and the external appearance of the connectors is identical. Internally the connectors are different; the connectors for the 80-wire cable connect a larger number of ground wires to a smaller number of ground pins, while the connectors for the 40-wire cable connect ground wires to ground pins one-for-one. 80-wire cables usually come with three differently colored connectors (blue - controller, gray - slave drive, and black - master drive) as opposed to uniformly colored 40-wire cable's connectors (all black). The gray connector on 80-conductor cables has pin 28 CSEL not connected; making it the slave position for drives configured cable select.

The ATA standard has always specified a maximum cable length of 46 cm (18 inches), and flat cables with particular impedance and capacitance characteristics. It may be desirable to use alternative cables, e.g. to have longer cables when connecting drives within a large computer case or when mounting several physical drives into one computer, or to use rounded cables to improve airflow (cooling) inside the computer case. Such cables are widely available on the market and used successfully in most cases. However, the user must understand that they are outside the parameters set by the specifications and should be used with caution. The short standard cable length makes the use of parallel ATA for external devices impossible in most situations.

In the ATA standard, Pin 20 is defined as key and is not used. However, some flash memory disks can use pin 20 as VCC_in to power the disk without needing a special power cable[15].

Pin 28 of the gray (slave/middle) connector of an 80 conductor cable is not attached to any conductor of the cable. It is attached normally on the black (master drive end) and blue (motherboard end) connectors.

Pin 34 is connected to ground inside the blue connector of an 80 conductor cable but not attached to any conductor of the cable. It is attached normally on the gray and black connectors. See page 315 of [1].

The image shows PATA connectors after removal of strain relief, cover, and cable. Pin one is at bottom left of the connectors, pin 2 is top left, etc., except that the lower image of the blue connector shows the view from the opposite side, and pin one is at top right.
Each contact comprises a pair of points which together pierce the insulation of the ribbon cable with such precision, they make a connection to the desired conductor without harming the insulation on the neighboring wires. The center row of contacts are all connected to the common ground bus and attached to the odd numbered conductors of the cable. The top row of contacts are the even-numbered sockets of the connector (mating with the even-numbered pins of the receptacle) and attach to every other even-numbered conductor of the cable. The bottom row of contacts are the odd-numbered sockets of the connector (mating with the odd-numbered pins of the receptacle) and attach to the remaining even-numbered conductors of the cable.
Note the connections to the common ground bus from sockets 2 (top left), 19 (center bottom row), 22, 24, 26, 30, and 40 on all connectors. Also note (enlarged detail, bottom, looking from the opposite side of the connector) that socket 34 of the blue connector does not contact any conductor but unlike socket 34 of the other two connectors, it does connect to the common ground bus. On the gray connector, note that socket 28 is completely missing, so that pin 28 of the drive attached to the gray connector will be open. On the black connector, sockets 28 and 34 are completely normal, so that pins 28 and 34 of the drive attached to the black connector will be connected to the cable. Pin 28 of the black drive reaches pin 28 of the host receptacle but not pin 28 of the gray drive, while pin 34 of the black drive reaches pin 34 of the gray drive but not pin 34 of the host. Instead, pin 34 of the host is grounded.
The standard dictates color-coded connectors for easy identification by both installer and cable maker. All three connectors are different from one another. The blue (host) connector has the socket for pin 34 connected to ground inside the connector but not attached to any conductor of the cable. Since the old 40 conductor cables do not ground pin 34, the presence of a ground connection indicates that an 80 conductor cable is installed. The wire for pin 34 is attached normally on the other types and is not grounded. Installing the cable backwards (with the black connector on the system board, the blue connector on the remote device and the gray connector on the center device) will ground pin 34 of the remote device and connect host pin 34 through to pin 34 of the center device. The gray center connector omits the connection to pin 28 but connects pin 34 normally, while the black end connector connects both pins 28 and 34 normally.

If two devices attach to a single cable, one must be designated as device 0 (commonly referred to as master) and the other as device 1 (slave). This distinction is necessary to allow both drives to share the cable without conflict. The master drive is the drive that usually appears "first" to the computer's BIOS and/or operating system. On old BIOSes (486 era and older), the drives are often referred to by the BIOS as "C" for the master and "D" for the slave following the way DOS would refer to the active primary partitions on each.
The mode that a drive must use is often set by a jumper setting on the drive itself, which must be manually set to master or slave. If there is a single device on a cable, it should be configured as master. However, some hard drives have a special setting called single for this configuration (Western Digital, in particular). Also, depending on the hardware and software available, a single drive on a cable can work reliably even though configured as the slave drive (this configuration is most often seen when a CD ROM has a channel to itself).

A drive mode called cable select was described as optional in ATA-1 and has come into fairly widespread use with ATA-5 and later. A drive set to "cable select" automatically configures itself as master or slave, according to its position on the cable. Cable select is controlled by pin 28. The host adapter grounds this pin; if a device sees that the pin is grounded, it becomes the master device; if it sees that pin 28 is open, the device becomes the slave device.
This setting is usually chosen by a jumper setting on the drive called "cable select", usually marked CS, which is separate to the "master" or "slave" setting.
Note that if two drives are configured as master and slave manually, this configuration does not need to correspond to their position on the cable. Pin 28 is only used to let the drives know their position on the cable; it is not used by the host when communicating with the drives.
With the 40-wire cable it was very common to implement cable select by simply cutting the pin 28 wire between the two device connectors; putting the slave device at the end of the cable, and the master on the "middle" connector. This arrangement eventually was standardized in later versions. If there is just one device on the cable, this results in an unused "stub" of cable, which is undesirable for physical convenience and electrical reasons. The stub causes signal reflections, particularly at higher transfer rates.
Starting with the 80-wire cable defined for use in ATAPI5/UDMA4, the master device goes at the end of the 18-inch (460 mm) cable (black connector), the middle-slave connector is gray, the blue connector goes onto the motherboard. So, if there is only one (master) device on the cable, there is no cable "stub" to cause reflections. Also, cable select is now implemented in the slave device connector, usually simply by omitting the contact from the connector body.

Although they are in common use, the terms master and slave do not actually appear in current versions of the ATA specifications. The two devices are correctly referred to as device 0 (master) and device 1 (slave), respectively. It is a common myth that the controller on the master drive assumes control over the slave drive, or that the master drive may claim priority of communication over the other device on the channel. In fact, the drivers in the host operating system perform the necessary arbitration and serialization, and each drive's controller operates independently.
The terms "master" and "slave" have not been without controversy. In 2003, the C
